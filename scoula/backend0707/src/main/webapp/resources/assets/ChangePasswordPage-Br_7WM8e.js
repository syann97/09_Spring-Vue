import{u as b,r as P,c as v,a as c,b as i,d as o,e as t,f as y,w as n,v as d,t as k,g,i as V,o as u}from"./index-bPUBMYGp.js";import{a as E}from"./authApi-DljRlyRd.js";import"./index-BN5RmzDS.js";const S={class:"mt-5 mx-auto",style:{width:"500px"}},B={class:"mb-3"},I={class:"mb-3"},N={class:"mb-3"},U={key:0,class:"text-danger"},A=["disabled"],h={__name:"ChangePasswordPage",setup(C){const p=V(),w=b(),a=P({username:w.username,oldPassword:"",newPassword:"",newPassword2:""}),m=v(()=>!a.oldPassword||!a.newPassword||!a.newPassword2),l=c(""),f=async()=>{if(a.newPassword!==a.newPassword2){l.value="새 비밀번호가 일치하지 않습니다.";return}try{await E.changePassword(a),alert("비밀번호를 수정했습니다."),p.push({name:"profile"})}catch(r){l.value=r.response.data}};return(r,s)=>(u(),i("div",S,[s[10]||(s[10]=o("h1",{class:"my-5"},[o("i",{class:"fa-solid fa-lock"}),t(" 비밀번호 변경 ")],-1)),o("form",{onSubmit:g(f,["prevent"])},[o("div",B,[s[6]||(s[6]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 이전 비밀번호: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"이전 비밀번호","onUpdate:modelValue":s[0]||(s[0]=e=>a.oldPassword=e),onInput:s[1]||(s[1]=(...e)=>r.inputPassword&&r.inputPassword(...e))},null,544),[[d,a.oldPassword]])]),o("div",I,[s[7]||(s[7]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 새 비밀번호: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"새 비밀번호","onUpdate:modelValue":s[2]||(s[2]=e=>a.newPassword=e),onInput:s[3]||(s[3]=(...e)=>r.resetError&&r.resetError(...e))},null,544),[[d,a.newPassword]])]),o("div",N,[s[8]||(s[8]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 새 비밀번호 확인: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"새 비밀번호 확인","onUpdate:modelValue":s[4]||(s[4]=e=>a.newPassword2=e),onInput:s[5]||(s[5]=(...e)=>r.resetError&&r.resetError(...e))},null,544),[[d,a.newPassword2]])]),l.value?(u(),i("div",U,k(l.value),1)):y("",!0),o("button",{type:"submit",class:"btn btn-primary mt-4",disabled:m.value},s[9]||(s[9]=[o("i",{class:"fa-solid fa-check"},null,-1),t(" 확인 ")]),8,A)],32)]))}};export{h as default};

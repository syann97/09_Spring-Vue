import{_ as k,c as h,b as c,d as l,t as v,s as x,o as u,a as p,F as y,p as T,n as C,r as $,j as d,e as _,k as w,q as f,B as M,T as q,h as I,f as S,i as K}from"./index-aFEdOi6g.js";import{a as L}from"./travelApi-CWpTbFwz.js";import"./index-CzUDexBv.js";const B={class:"align-content-center"},H={__name:"TravelHeader",props:{travel:{type:Object,required:!0}},setup(n){const r=n,a=h(()=>{var o,e,t;return(t=(e=(o=r.travel)==null?void 0:o.images)==null?void 0:e[0])!=null&&t.url?{backgroundImage:`url('${r.travel.images[0].url}')`}:{backgroundColor:"#6c757d"}});return(o,e)=>(u(),c("div",{class:"travel-header mb-4 d-flex justify-content-center",style:x(a.value)},[l("h1",B," ["+v(n.travel.district)+"] "+v(n.travel.title),1)],4))}},N=k(H,[["__scopeId","data-v-add5cbaf"]]),O={class:"w-100 my-4"},V=["src"],j={class:"d-flex"},R=["src","onClick"],z={__name:"TravelImages",props:{images:{Type:Array,required:!0}},setup(n){const r=n,a=p(0),o=h(()=>{var t;return(t=r.images[a.value])==null?void 0:t.url}),e=t=>{a.value=t};return(t,m)=>(u(),c("div",O,[l("img",{src:o.value,style:{width:"100%",height:"400px"}},null,8,V),l("div",j,[(u(!0),c(y,null,T(n.images,(i,s)=>(u(),c("div",{class:"flex-fill",key:i.no},[l("img",{class:C(["thumbnail",{active:a.value===s}]),src:i.url,style:{width:"100%",height:"100px"},onClick:g=>e(s)},null,10,R)]))),128))])]))}},D=k(z,[["__scopeId","data-v-076904bc"]]),F={__name:"TravelMap",props:{title:{type:String,required:!0},address:{type:String,required:!0}},setup(n){const r=n,a=$({lat:37.566826,lng:126.9786567}),o=p(),e=i=>{o.value=i,new kakao.maps.services.Geocoder().addressSearch(r.address,(g,b)=>{b===kakao.maps.services.Status.OK&&(a.lat=g[0].y,a.lng=g[0].x)})},t=p(!1),m=()=>{t.value=!t.value};return(i,s)=>(u(),c(y,null,[l("div",null,[s[0]||(s[0]=l("i",{class:"fa-solid fa-map-location-dot"},null,-1)),_(" 주소: "+v(n.address),1)]),d(f(q),{lat:a.lat,lng:a.lng,level:3,draggable:!0,style:{width:"100%"},onOnLoadKakaoMap:e},{default:w(()=>[d(f(M),{lat:a.lat,lng:a.lng,clickable:!0,infoWindow:{content:n.title,visible:t.value},onOnClickKakaoMapMarker:m},null,8,["lat","lng","infoWindow"])]),_:1},8,["lat","lng"])],64))}},W={key:0},A=["innerHTML"],E={class:"my-5"},Q={__name:"TravelDetailPage",setup(n){const r=I(),a=K(),o=r.params.no,e=p(null),t=()=>{a.push({name:"travel/list",query:r.query})};return(async()=>{e.value=await L.get(o);let i=e.value.description.replace(/\. /gm,s=>s+"<p/><p>");e.value.description=`<p>${i}</p>`})(),(i,s)=>e.value?(u(),c("div",W,[d(N,{travel:e.value},null,8,["travel"]),l("div",{class:"content",innerHTML:e.value.description},null,8,A),d(D,{images:e.value.images},null,8,["images"]),l("div",null,[s[0]||(s[0]=l("i",{class:"fa-solid fa-square-phone-flip"},null,-1)),_(" 전화번호: "+v(e.value.phone),1)]),l("div",E,[d(F,{title:e.value.title,address:e.value.address},null,8,["title","address"])]),l("div",{class:"my-5"},[l("button",{class:"btn btn-primary me-2",onClick:t},s[1]||(s[1]=[l("i",{class:"fa-solid fa-list"},null,-1),_(" 목록 ")]))])])):S("",!0)}};export{Q as default};

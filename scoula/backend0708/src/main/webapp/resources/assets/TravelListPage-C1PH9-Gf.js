import{a as h}from"./travelApi-CWpTbFwz.js";import{h as y,l as _,b as c,o as d,j as m,d as t,k as n,q as f,e as w,t as p,a as x,c as k,r as C,m as V,F as I,p as T,i as $}from"./index-aFEdOi6g.js";import"./index-CzUDexBv.js";const B={class:"card",style:{width:"100%"}},L=["src","alt"],N={class:"card-body"},R={class:"card-title"},j={class:"card-text"},F={__name:"TravelCard",props:{travel:{Type:Object,required:!0}},setup(o){const a=y();return(g,l)=>{const u=_("router-link");return d(),c("div",B,[m(u,{to:{name:"travel/detail",params:{no:o.travel.no},query:f(a).query}},{default:n(()=>[t("img",{class:"card-img-top",src:o.travel.images[0].url,alt:o.travel.title},null,8,L)]),_:1},8,["to"]),t("div",N,[t("h5",R,[m(u,{to:{name:"travel/detail",params:{no:o.travel.no},query:f(a).query}},{default:n(()=>[w(p(o.travel.title),1)]),_:1},8,["to"])]),t("p",j,p(o.travel.description.substring(0,250)),1)])])}}},P={class:""},D={class:"row"},E={class:"mt-5 flex-grow-1 text-center"},z={__name:"TravelListPage",setup(o){const a=y(),g=$(),l=x({}),u=k(()=>l.value.list),s=C({page:parseInt(a.query.page)||1,amount:parseInt(a.query.amount)||12}),b=async r=>{g.push({query:{page:r,amount:s.amount}})};V(a,async r=>{s.page=parseInt(a.query.page),s.amount=parseInt(a.query.amount),await v(s)});const v=async r=>{try{l.value=await h.getList(r),console.log(l.value)}catch{}};return v(s),(r,e)=>{const q=_("vue-awesome-paginate");return d(),c("div",null,[e[5]||(e[5]=t("h1",{class:"mb-3"},[t("i",{class:"fa-solid fa-person-walking-luggage"}),w(" 여행지 목록 ")],-1)),t("div",P,"총 "+p(l.value.totalCount)+"건",1),t("div",D,[(d(!0),c(I,null,T(u.value,i=>(d(),c("div",{class:"col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-3",key:i.no},[m(F,{travel:i},null,8,["travel"])]))),128))]),t("div",E,[m(q,{"total-items":l.value.totalCount,"items-per-page":s.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:s.page,"onUpdate:modelValue":e[0]||(e[0]=i=>s.page=i),onClick:b},{"first-page-button":n(()=>e[1]||(e[1]=[t("i",{class:"fa-solid fa-backward-fast"},null,-1)])),"prev-button":n(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-caret-left"},null,-1)])),"next-button":n(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-caret-right"},null,-1)])),"last-page-button":n(()=>e[4]||(e[4]=[t("i",{class:"fa-solid fa-forward-fast"},null,-1)])),_:1},8,["total-items","items-per-page","modelValue"])])])}}};export{z as default};
